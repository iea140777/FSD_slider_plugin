parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EYy0":[function(require,module,exports) {
var define;
var e;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}parcelRequire=function(n,i,o,s){var r,a="function"==typeof parcelRequire&&parcelRequire,l="function"==typeof require&&require;function u(e,t){if(!i[e]){if(!n[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!t&&o)return o(e,!0);if(a)return a(e,!0);if(l&&"string"==typeof e)return l(e);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}d.resolve=function(t){return n[e][1][t]||t},d.cache={};var r=i[e]=new u.Module(e);n[e][0].call(r.exports,d,r,r.exports,this)}return i[e].exports;function d(e){return u(d.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=n,u.cache=i,u.parent=a,u.register=function(e,t){n[e]=[function(e,n){n.exports=t},{}]};for(var d=0;d<o.length;d++)try{u(o[d])}catch(n){r||(r=n)}if(o.length){var c=u(o[o.length-1]);"object"==("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=c:"function"==typeof e&&e.amd&&e(function(){return c})}if(parcelRequire=u,r)throw r;return u}({pjIr:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){var t=this;this.getInitialCurrentValue=function(e){for(var n=0;n<e.handlersAmount;n++)t.currentValue[n]=e.startingValue[n]},this.getRangeValue=function(e){e.range&&(t.rangeValue=Math.abs(t.currentValue[1]-t.currentValue[0]))},this.minValue=e.minValue,this.maxValue=e.maxValue,this.step=e.step,this.range=e.range,this.handlersAmount=e.handlersAmount,this.icon=e.icon,this.valueRange=Math.abs(e.maxValue-e.minValue),this.stepsAmount=Math.floor(this.valueRange/this.step),this.positionValueRate,this.currentValue=[],this.getInitialCurrentValue(e),this.rangeValue=Math.abs(this.currentValue[1]-this.currentValue[0])};n.default=i},{}],RWvY:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=this;this.createSliderLine=function(t,n){var i=document.createElement("div");i.classList.add("slider__slider"),n.vertical&&i.classList.add("slider__slider_vertical"),t.append(i);var o=t.querySelector(".slider__slider");return e.addSliderListener(o),o},this.addSliderListener=function(t){t.onclick=function(t){e.sliderClick(t)}}};n.default=i},{}],VwWS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.addHandlerListeners=function(t){t[0].onmousedown=function(n){e.handlerMouseDown(n,t[0],0)},t[1]&&(t[1].onmousedown=function(n){e.handlerMouseDown(n,t[1],1)})}}return e.prototype.createHandlers=function(e,t){for(var n=0;n<e.handlersAmount;n++){var i=document.createElement("div");i.classList.add("slider__handler"),e.vertical?i.classList.add("slider__handler_vertical"):i.classList.add("slider__handler_horisontal"),t.append(i)}var o=t.querySelectorAll(".slider__handler");return this.addHandlerListeners(o),o},e}();n.default=i},{}],EO17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.createIcons=function(e,t,n){for(var i=0;i<t.length;i++){var o=document.createElement("div");o.classList.add("slider__icon"),e.vertical?o.classList.add("slider__icon_vertical"):o.classList.add("slider__icon_horisontal"),t[i].append(o)}return n.querySelectorAll(".slider__icon")},e}();n.default=i},{}],ezLB:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.addInputsListener=function(t){t.forEach(function(n){n.onfocus=function(){n.value="",n.addEventListener("blur",function(i){e.getInputValue(n,t,i)}),n.addEventListener("keydown",function(i){"Enter"==i.code&&e.getInputValue(n,t,i)})}})},this.getInputValue=function(t,n,i){var o=Number(t.value);(""==t.value||isNaN(Number(t.value)))&&(o=void 0),i.target==n[0]?e.newInputValue(o,0):e.newInputValue(o,1)}}return e.prototype.createInputsContainer=function(e,t,n){var i=document.createElement("div");return i.classList.add("slider__inputsContainer"),t.before(i),n.querySelector(".slider__inputsContainer")},e.prototype.createRangeInput=function(e,t){var n=document.createElement("span");n.classList.add("slider__inputLabel"),n.innerText="range",t.append(n);var i=document.createElement("input");return i.setAttribute("type","text"),i.classList.add("slider__input","slider__input_range"),n.append(i),t.querySelector(".slider__input_range")},e.prototype.createValueInputs=function(e,t){for(var n=0;n<+e.handlersAmount;n++){var i=document.createElement("span");i.classList.add("slider__inputLabel"),i.innerText="value "+(n+1),t.append(i);var o=document.createElement("input");o.setAttribute("type","text"),o.classList.add("slider__input","slider__input_value"),i.append(o)}var s=t.querySelectorAll(".slider__input_value");return this.addInputsListener(s),s},e}();n.default=i},{}],fXEI:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=this;this.createScale=function(e,t){for(var n=Math.ceil((e.maxValue-e.minValue)/e.step)+1,i=0;i<n;i++){var o=document.createElement("div");o.classList.add("slider__scale-point"),e.vertical?o.classList.add("slider__scale-point_vertical"):o.classList.add("slider__scale-point_horisontal"),t.append(o)}return t.querySelectorAll(".slider__scale-point")},this.addScaleListener=function(t){t.forEach(function(t){t.onclick=function(t){e.scalePpointClick(t)}})}};n.default=i},{}],CBC0:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=i(e("./subView/subViewSliderLine")),s=i(e("./subView/subViewHandlers")),r=i(e("./subView/subViewIcons")),a=i(e("./subView/subViewInput")),l=i(e("./subView/subViewScale")),u=function(e,t){var n=this;this.createSlider=function(e,t){n.sliderContainer=n.createContainer(e,t),n.slider=n.subViewSliderLine.createSliderLine(n.sliderContainer,e),n.handlers=n.subViewHandlers.createHandlers(e,n.slider),n.options.scale&&(n.scale=n.subViewScale.createScale(e,n.slider)),n.options.icon&&(n.icons=n.subViewIcons.createIcons(e,n.handlers,n.slider)),(n.options.rangeInput||n.options.valueInputs)&&(n.inputsContainer=n.subViewInput.createInputsContainer(e,n.slider,n.sliderContainer),n.options.rangeInput&&n.options.handlersAmount>1&&(n.rangeInput=n.subViewInput.createRangeInput(e,n.inputsContainer)),n.options.valueInputs&&(n.valueInputs=n.subViewInput.createValueInputs(e,n.inputsContainer)))},this.createContainer=function(e,t){var i=document.createElement("div");return i.classList.add("slider__container"),n.options.vertical?i.classList.add("slider__container_vertical"):i.classList.add("slider__container_horisontal"),t.append(i),t.querySelector(".slider__container")},this.getSliderData=function(){n.options.vertical?(n.sliderPosition=n.slider.getBoundingClientRect().y+pageYOffset,n.sliderBorder=parseFloat(getComputedStyle(n.slider).borderLeftWidth),n.handlersHeight=n.handlers[0].offsetHeight,n.maxPosition=n.sliderPosition-n.handlersHeight/2,n.minPosition=n.maxPosition+n.slider.getBoundingClientRect().height,n.positionRange=n.minPosition-n.maxPosition,n.handlersPosition=[],n.options.range&&(n.range=n.showRange(n.options))):(n.sliderPosition=n.slider.getBoundingClientRect().x+pageXOffset,n.handlersWidth=n.handlers[0].offsetWidth,n.sliderBorder=parseFloat(getComputedStyle(n.slider).borderLeftWidth),n.minPosition=n.sliderPosition-n.handlersWidth/2,n.maxPosition=n.minPosition+n.slider.getBoundingClientRect().width,n.positionRange=n.maxPosition-n.minPosition,n.handlersPosition=[],n.options.range&&(n.range=n.showRange(n.options)))},this.getScalePosition=function(){for(var e=n.positionRange/Math.abs(n.options.maxValue-n.options.minValue)/n.positionRange*100,t=0;t<n.scale.length;t++)n.options.vertical?0==t?n.scale[t].style.top="100%":t==n.scale.length-1?n.scale[t].style.top="0%":n.scale[t].style.top=100-t*e*n.options.step+"%":0==t?n.scale[t].style.left="0%":t==n.scale.length-1?n.scale[t].style.left="100%":n.scale[t].style.left=t*e*n.options.step+"%"},this.showRange=function(e){var t=document.createElement("div");t.classList.add("slider__range"),e.vertical?(t.style.width=n.slider.getBoundingClientRect().width+2+"px",t.style.left="-1px"):(t.style.height=n.slider.getBoundingClientRect().height+2+"px",t.style.top="-1px"),n.slider.append(t);var i=n.slider.querySelector(".slider__range");return n.getSliderRangePosition(e,i),i},this.getSliderRangePosition=function(e,t){n.options.vertical?(n.handlersPosition[0]>n.handlersPosition[1]?t.style.top=n.handlers[1].offsetTop+n.handlers[1].offsetHeight/2+"px":t.style.top=n.handlers[0].offsetTop+n.handlers[0].offsetHeight/2+"px",t.style.height=Math.abs(n.handlersPosition[1]-n.handlersPosition[0])+"px"):(n.handlersPosition[0]>n.handlersPosition[1]?t.style.left=n.handlers[1].offsetLeft+n.handlers[1].offsetWidth/2+"px":t.style.left=n.handlers[0].offsetLeft+n.handlers[0].offsetWidth/2+"px",t.style.width=Math.abs(n.handlersPosition[1]-n.handlersPosition[0])+"px")},this.moveByMouse=function(e,t,i){var o;e.preventDefault(),o=n.options.vertical?e.clientY-n.handlersPosition[i]:e.clientX-n.handlersPosition[i],t.classList.add("slider__handler_active"),document.onmousemove=function(e){if(n.options.vertical){var s=e.clientY-o-n.sliderPosition;s<=n.maxPosition-n.sliderPosition&&(s=n.maxPosition-n.sliderPosition),s>=n.minPosition-n.sliderPosition&&(s=n.minPosition-n.sliderPosition),t.style.top=s+"px",n.writeNewPosition(t,i)}else{var r=e.clientX-o-n.sliderPosition;r<=n.minPosition-n.sliderPosition&&(r=n.minPosition-n.sliderPosition),r>=n.maxPosition-n.sliderPosition&&(r=n.maxPosition-n.sliderPosition),t.style.left=r+"px",n.writeNewPosition(t,i)}},document.onmouseup=function(){t.classList.remove("slider__handler_active"),document.onmousemove=null}},this.writeNewPosition=function(e,t){var i;i=n.options.vertical?e.getBoundingClientRect().y+pageYOffset:e.getBoundingClientRect().x+pageXOffset,n.handlersPosition[t]=i,n.options.range&&n.getSliderRangePosition(n.options,n.range),n.notifyChangedHandlerPosition()},this.moveByClick=function(e){var t,i;t=n.options.vertical?e.clientY+pageYOffset:e.clientX+pageXOffset;var o=0;if((i=2==n.options.handlersAmount?n.getNearestHandler(t):n.handlers[0])==n.handlers[1]&&(o=1),n.options.vertical){var s=e.clientY+pageYOffset-n.handlersHeight/2-n.sliderPosition;s<=n.maxPosition-n.sliderPosition&&(s=n.maxPosition-n.sliderPosition),s>=n.minPosition-n.sliderPosition&&(s=n.minPosition-n.sliderPosition),i.style.top=s+"px",n.writeNewPosition(i,o)}else{var r=e.clientX+pageXOffset-n.handlersWidth/2-n.sliderPosition;r<=n.minPosition-n.sliderPosition&&(r=n.minPosition-n.sliderPosition),r>=n.maxPosition-n.sliderPosition&&(r=n.maxPosition-n.sliderPosition),i.style.left=r+"px",n.writeNewPosition(i,o)}},this.getNearestHandler=function(e){var t=Math.abs(n.handlersPosition[0]-e);return Math.abs(n.handlersPosition[1]-e)<t?n.handlers[1]:n.handlers[0]},this.options=e,this.outerContainer=t,this.subViewSliderLine=new o.default,this.subViewHandlers=new s.default,this.subViewScale=new l.default,this.subViewIcons=new r.default,this.subViewInput=new a.default,this.createSlider(e,t),this.getSliderData(),this.options.scale&&this.getScalePosition(),this.subViewHandlers.handlerMouseDown=function(e,t,i){n.moveByMouse(e,t,i)},this.subViewInput.newInputValue=function(e,t){n.notifyChangedInputValue(e,t)},this.subViewSliderLine.sliderClick=function(e){e.target!==n.handlers[0]&&e.target!==n.handlers[1]&&n.moveByClick(e)}};n.View=u},{"./subView/subViewSliderLine":"RWvY","./subView/subViewHandlers":"VwWS","./subView/subViewIcons":"EO17","./subView/subViewInput":"ezLB","./subView/subViewScale":"fXEI"}],mxbi:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=i(e("./model")),s=e("./view"),r=function(e,t){var n=this;this.checkOptions=function(e){if(n.options=e,n.options.minValue=Number(e.minValue),n.options.maxValue=Number(e.maxValue),n.options.startingValue=[Number(e.startingValue[0]),Number(e.startingValue[1])],n.options.step=Number(e.step),n.options.handlersAmount=Number(e.handlersAmount),n.options.minValue>=n.options.maxValue)console.log("Slider: minValue should not be equal or be more than maxValue");else{for(var t=0;t<=n.options.startingValue.length;t++)n.options.startingValue[t]>n.options.maxValue?n.options.startingValue[t]=n.options.maxValue:n.options.startingValue[t]<n.options.minValue&&(n.options.startingValue[t]=n.options.minValue);n.options.handlersAmount<1?(n.options.handlersAmount=1,console.log("Slider: handlers amount should be equal either 1 or 2")):n.options.handlersAmount>2&&(n.options.handlersAmount=2,console.log("Slider: handlers amount should be equal either 1 or 2")),2==n.options.handlersAmount&&n.options.startingValue.length<2&&(n.options.startingValue=[n.options.minValue,n.options.maxValue],console.log("Slider: starting value should be defined for every handler")),n.options.step>=Math.abs(n.options.maxValue-n.options.minValue)?console.log("Slider: step value should  be  less than slider value range"):1==n.options.handlersAmount&&n.options.range&&(n.options.range=!1,console.log("Slider: range option cannot be applied to one handler"))}},this.setInitialHandlersPosition=function(){n.getPositionFromValue(),n.model.getRangeValue(n.options)},this.setHandlersToInputValue=function(e,t){null!=e?(e>n.model.maxValue?e=n.model.maxValue:e<n.model.minValue&&(e=n.model.minValue),n.options.moveBySteps&&(e=Math.round((e-n.model.minValue)/n.options.step)*n.options.step+n.model.minValue),n.model.currentValue[t]=e,n.getPositionFromValue()):n.getValueFromPosition()},this.getValueFromPosition=function(){for(var e=0;e<n.view.handlers.length;e++){var t;t=n.options.vertical?(n.view.minPosition-n.view.handlersPosition[e])/n.model.positionValueRate:(n.view.handlersPosition[e]-n.view.minPosition)/n.model.positionValueRate;var i=Math.round(t/n.model.step)*n.model.step;t>n.options.step*n.model.stepsAmount?n.model.currentValue[e]=n.model.maxValue:n.model.currentValue[e]=n.model.minValue+i,n.options.icon&&(n.view.icons[e].innerHTML=String(n.model.currentValue[e]))}if(n.model.getRangeValue(n.options),n.options.rangeInput&&n.options.range&&n.options.handlersAmount>1&&(n.view.rangeInput.value=String(n.model.rangeValue)),n.options.rangeInput&&!n.options.range&&n.options.handlersAmount>1&&(n.view.rangeInput.value=n.model.currentValue[0]+"; "+n.model.currentValue[1]),n.options.valueInputs)for(e=0;e<n.options.handlersAmount;e++)n.view.valueInputs[e].value=""+n.model.currentValue[e];return n.options.moveBySteps&&n.getPositionFromValue(),n.model.currentValue},this.getPositionFromValue=function(){for(var e=0;e<n.view.handlers.length;e++)n.options&&(n.options.vertical?(n.view.handlers[e].style.top=Math.abs((n.model.currentValue[e]-n.model.maxValue)*n.model.positionValueRate)-n.view.handlersHeight/2+"px",n.view.handlersPosition[e]=n.view.handlers[e].getBoundingClientRect().y+pageYOffset):(n.view.handlers[e].style.left=Math.abs((n.model.currentValue[e]-n.model.minValue)*n.model.positionValueRate)-n.view.handlersWidth/2+"px",n.view.handlersPosition[e]=n.view.handlers[e].getBoundingClientRect().x+pageXOffset)),n.model.icon&&(n.view.icons[e].innerHTML=String(n.model.currentValue[e]));if(n.model.getRangeValue(n.options),n.options.rangeInput&&n.options.range&&n.options.handlersAmount>1&&(n.view.showRange(n.options),n.view.rangeInput.value=String(n.model.rangeValue)),n.options.rangeInput&&!n.options.range&&n.options.handlersAmount>1&&(n.view.rangeInput.value=n.model.currentValue[0]+"; "+n.model.currentValue[1]),n.options.valueInputs)for(e=0;e<n.options.handlersAmount;e++)n.view.valueInputs[e].value=""+n.model.currentValue[e]},this.checkOptions(e),this.model=new o.default(this.options),this.view=new s.View(this.options,t),this.model.positionValueRate=this.view.positionRange/this.model.valueRange,this.setInitialHandlersPosition(),this.view.notifyChangedHandlerPosition=function(){n.getValueFromPosition()},this.view.notifyChangedInputValue=function(e,t){n.setHandlersToInputValue(e,t)}};n.Presenter=r},{"./model":"pjIr","./view":"CBC0"}],QLcG:[function(e,n,i){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}Object.defineProperty(i,"__esModule",{value:!0});var s,r,a,l=e("./src/presenter");s=jQuery,r={minValue:-100,maxValue:100,startingValue:[-50,20],vertical:!1,step:10,moveBySteps:!0,range:!0,rangeInput:!0,valueInputs:!0,handlersAmount:2,scale:!0,icon:!0},a={init:function(e){return this.each(function(){var t=s.extend({},r,e);this.presenter=new l.Presenter(t,this)})},destroy:function(){return this.each(function(){for(var e=0,t=this.children;e<t.length;e++)t[e].remove()})}},s.fn.slider=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==o(e)&&e?void s.error("Метод с именем "+e+" не существует для jQuery.slider"):a.init.apply(this,arguments)}},{"./src/presenter":"mxbi"}]},{},["QLcG"]);
},{}]},{},["EYy0"], null)
//# sourceMappingURL=slider.c4c91723.js.map